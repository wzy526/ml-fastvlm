python - << 'PY'
import json
qs="/perception-hl/zhuofan.xia/data/textvqa/val_questions.json"
oc="/perception-hl/zhuofan.xia/data/textvqa/val_ocr_tokens.json"
Q=json.load(open(qs))["questions"][:50]
O={x["question_id"]:x["ocr_tokens"] for x in json.load(open(oc))}
hit=sum(1 for q in Q if q["question_id"] in O)
non_empty=sum(1 for q in Q if q["question_id"] in O and O[q["question_id"]].strip())
print(f"前50命中: {hit}/50, 非空: {non_empty}/50 ({non_empty/50:.1%})")
PY