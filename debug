python -c "
import os
import json

# 检查GQA数据中的Image ID是否真的存在对应的文件
with open('/perception-hl/zhuofan.xia/data/gqa/val_balanced_questions.json', 'r') as f:
    data = json.load(f)

image_folder = '/perception-hl/zhuofan.xia/data/gqa/images'
actual_files = set(os.listdir(image_folder))

print(f'图像文件夹中的实际文件数量: {len(actual_files)}')

# 检查前10个样本
samples = list(data.items())[:10]
print('详细检查前10个样本:')

for i, (qid, item) in enumerate(samples):
    image_id = item['imageId']
    
    # 检查所有可能的文件名格式
    possible_names = [
        f'{image_id}.jpg',
        f'n{image_id}.jpg', 
        f'{image_id}.png',
        f'n{image_id}.png'
    ]
    
    found = False
    for name in possible_names:
        if name in actual_files:
            print(f'样本 {i+1}: Image ID {image_id} -> 找到: {name}')
            found = True
            break
    
    if not found:
        print(f'样本 {i+1}: Image ID {image_id} -> 未找到')
        # 检查是否有相似的文件名
        similar_files = [f for f in actual_files if image_id in f]
        if similar_files:
            print(f'  相似文件: {similar_files[:3]}')
        else:
            print(f'  无相似文件')
"